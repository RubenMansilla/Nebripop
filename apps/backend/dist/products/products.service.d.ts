import { Repository } from "typeorm";
import { Product } from "./products.entity";
import { ProductImage } from "./products-image.entity";
import { CreateProductDto } from "./create-products.dto";
import { FavoriteProduct } from "../favorites/favorite-product.entity";
import { Chat } from "../chat/chat.entity";
import { Purchase } from "../purchases/purchase.entity";
import { Review } from "../reviews/review.entity";
export declare class ProductsService {
    private productRepo;
    private productImagesRepo;
    private favoritesRepo;
    private chatRepo;
    private purchaseRepo;
    private reviewRepo;
    private supabase;
    constructor(productRepo: Repository<Product>, productImagesRepo: Repository<ProductImage>, favoritesRepo: Repository<FavoriteProduct>, chatRepo: Repository<Chat>, purchaseRepo: Repository<Purchase>, reviewRepo: Repository<Review>);
    uploadImages(files: Express.Multer.File[], productId: number): Promise<string[]>;
    createProduct(dto: CreateProductDto, files: Express.Multer.File[], userId: number): Promise<{
        productId: number;
    }>;
    getActiveProductsByUser(userId: number): Promise<{
        isFavorite: boolean;
        id: number;
        owner_id: number;
        summary: string;
        name: string;
        description: string;
        price: number;
        condition: string;
        brand: string;
        color: string;
        material: string;
        width_cm: number;
        height_cm: number;
        depth_cm: number;
        category_id: number;
        subcategory_id: number;
        category: import("../categories/categories.entity").Category;
        subcategory: import("../subcategories/subcategories.entity").Subcategory;
        shipping_active: boolean;
        shipping_size: string;
        shipping_weight: string;
        postal_code: string;
        latitude: number;
        longitude: number;
        sold: boolean;
        deletedAt: Date;
        images: ProductImage[];
        createdAt: Date;
        views_count: number;
        favorites: FavoriteProduct[];
        chats: Chat[];
    }[]>;
    getPublicProductsByUser(userId: number): Promise<Product[]>;
    getAllProducts(userId?: number | null, categoryId?: number, subcategoryId?: number, minPrice?: number, maxPrice?: number, dateFilter?: "today" | "7days" | "30days"): Promise<Product[]>;
    getProductById(productId: number, userId: number | null): Promise<Product>;
    deleteProduct(productId: number, userId: number): Promise<{
        message: string;
    }>;
    getPurchasedProductsByUser(userId: number): Promise<{
        purchaseId: number;
        soldPrice: number;
        soldDate: Date;
        id: number;
        owner_id: number;
        summary: string;
        name: string;
        description: string;
        price: number;
        condition: string;
        brand: string;
        color: string;
        material: string;
        width_cm: number;
        height_cm: number;
        depth_cm: number;
        category_id: number;
        subcategory_id: number;
        category: import("../categories/categories.entity").Category;
        subcategory: import("../subcategories/subcategories.entity").Subcategory;
        shipping_active: boolean;
        shipping_size: string;
        shipping_weight: string;
        postal_code: string;
        latitude: number;
        longitude: number;
        sold: boolean;
        deletedAt: Date;
        images: ProductImage[];
        createdAt: Date;
        views_count: number;
        favorites: FavoriteProduct[];
        chats: Chat[];
    }[]>;
    getBuyingProcessProducts(userId: number): Promise<Product[]>;
    getSellingProcessProducts(userId: number): Promise<Product[]>;
    getSoldProductsByUser(userId: number): Promise<{
        purchaseId: number;
        soldPrice: number;
        soldDate: Date;
        id: number;
        owner_id: number;
        summary: string;
        name: string;
        description: string;
        price: number;
        condition: string;
        brand: string;
        color: string;
        material: string;
        width_cm: number;
        height_cm: number;
        depth_cm: number;
        category_id: number;
        subcategory_id: number;
        category: import("../categories/categories.entity").Category;
        subcategory: import("../subcategories/subcategories.entity").Subcategory;
        shipping_active: boolean;
        shipping_size: string;
        shipping_weight: string;
        postal_code: string;
        latitude: number;
        longitude: number;
        sold: boolean;
        deletedAt: Date;
        images: ProductImage[];
        createdAt: Date;
        views_count: number;
        favorites: FavoriteProduct[];
        chats: Chat[];
    }[]>;
    incrementViews(productId: number): Promise<import("typeorm").UpdateResult>;
    getTopSuccessfulProducts(): Promise<{
        id: number;
        name: string;
        created_at: Date;
        price: number;
        views_count: number;
        first_img: string | null;
        total_favorites: any;
        total_chats: any;
    }[]>;
    getFinancialStats(userId: number, range: 'week' | 'month' | 'year'): Promise<{
        chartData: any[];
        meta: {
            totalViews: number;
        };
    }>;
}
